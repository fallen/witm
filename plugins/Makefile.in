CFLAGS += -Wall -Wextra -g -O0 -I../ `pcap-config --cflags` `dnet-config --cflags` -DDNET_NAME=\<$(DNET_NAME)\>
LDLIBS += `pcap-config --libs` `dnet-config --libs` -L../ -lpthread -ldl

SRC = $(wildcard *.c)
SHAREDOBJ = $(SRC:.c=.so)
PROTOCOLS = ../ip.o

all: $(SHAREDOBJ)

%.so: %.o
	$(CC) -shared $(LDLIBS) $< $(PROTOCOLS) -o $@

clean:
	rm -f *.o

distclean: clean
	rm -f *.so

re: distclean all
